num(X) --> [X], {number(X)}.
var(X) --> [X], {atom(X)}.
value(X) --> var(X); num(X).

values(values(X)) --> value(X).
values(values(X, Y)) --> value(X), [,], values(Y).

receiver(receiver(X)) --> var(X).
message(message(X,Y)) --> var(X), values(Y).
message(message(X)) --> var(X).

expre(expr(X, Y)) --> receiver(X), expr_list(Y).
expre(expr(X)) --> message(X).

expr_list(expr_list(X)) --> expre(X).
expr_list(expr_list(X, Y)) --> expre(X), expr_list(Y).

assign(assign(X, Y)) --> var(X), [:=], expr_list(Y).


% a := Object clone 10, 10 clone clone